/**test the speed of a cheat loop vs cursor vs fastforward cursor*/
-- plain cursor

DECLARE @CURID VARCHAR(80);
DECLARE CURFF CURSOR  FOR
	SELECT Id
	FROM Clients

OPEN CURFF
FETCH NEXT FROM CURFF INTO @CURID

WHILE @@FETCH_STATUS = 0

BEGIN 

PRINT @CURID  + ' I CAME FROM A CURSOR'

FETCH NEXT FROM CURFF INTO @CURID


END

CLOSE CURFF

DEALLOCATE CURFF





---FAST FORWARDED CURSOR

DECLARE @CURID VARCHAR(80);
DECLARE CURFF CURSOR FAST_FORWARD FOR
	SELECT Id
	FROM Clients

OPEN CURFF
FETCH NEXT FROM CURFF INTO @CURID

WHILE @@FETCH_STATUS = 0

BEGIN 

PRINT @CURID  + ' I CAME FROM A FAST FORWARDED CURSOR'

FETCH NEXT FROM CURFF INTO @CURID


END

CLOSE CURFF

DEALLOCATE CURFF




---CHEAT LOOP

DECLARE @ClientID VARCHAR(80) = '';
WHILE(1=1)
	BEGIN 
	SELECT @ClientID = MIN(Id)
	FROM dbo.Clients WHERE Id > @ClientID
	IF @ClientID IS NULL BREAK
	PRINT @ClientId  + ' I came from a cheat loop'
END





